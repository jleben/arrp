module signal;

phase(freq) = {
  [t -> case t==0: 0; else:
    if this[t-1] + freq >= 1
    then this[t-1] + freq - 1
    else this[t-1] + freq
  ];
};

sine(freq) = {
  let ph = phase(freq);
  sin(ph * 2 * math.pi);
};
